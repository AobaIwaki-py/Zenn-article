---
title: "PrometheusとNode Exporterで収集した情報をGrafanaで可視化する"
emoji: "👻"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["linux","docker","prometheus",'grafana']
published: false
---
# この記事の概要


# 情報収集用のサーバーにPrometheusの設定を行う

- 以下のサイトからPrometheusの最新版のリンクを調べてください。
  - [Download | Prometheus](https://prometheus.io/download/)
- 調べたリンク先の`tar`ファイルを`wget`コマンドで取得します。
```bash
$ wget https://github.com/prometheus/prometheus/releases/download/v2.43.0-rc.0/prometheus-2.43.0-rc.0.linux-amd64.tar.gz
```
- その後、`tar`コマンドを用いてダウンロードしたファイルを解凍します。
```bash
$ tar xvfz prometheus-2.43.0-rc.0.linux-amd64.tar.gz
```
- 解凍して生成されたフォルダをVSCodeなどのテキストエディターで開きます。
- フォルダ直下の`prometheus.yml`ファイルを以下のように編集します。
```yaml:prometheus.yaml
global:
  scrape_interval:     15s # By default, scrape targets every 15 seconds.
  external_labels:
    monitor: 'codelab-monitor'
scrape_configs:
  - job_name: 'prometheus'
    scrape_interval: 5s
    static_configs:
      - targets: ['localhost:9000']
      - targets: ['{監視対象のIPアドレス}:9100']
```
- 以下のコマンドで Prometheusサーバーに設定ファイルを渡して起動することができます。
```bash
$ ./prometheus --config.file=prometheus.yml
```
- 以下のコマンドを入力して次のように表示されればインストール成功です。
```bash
$ curl localhost:9090
<a href="/graph">Found</a>.
```
私は、Dockerに明るくないのでここまでの処理をDockerで行う方法がわかりませんでした。
# 監視対象のサーバーにNode Exporterの設定を行う


# Grafanaで綺麗に可視化する
